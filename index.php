<html>
    <head>
        <title>u_code</title>
        <script  type="text/javascript" src="jquery.min.js"></script>
        <link href="jquery-ui/jquery-ui.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="jquery-ui/jquery-ui.js"></script> 
        
    </head>

    <body>
        <div id="header">
                <!-- <div id=logo>
                    <h3>u_code</h3>
                </div> -->
                <div class="containerb">
                    <button class="toggleButton" id="html">HTML</button>
                    <button class="toggleButton" id="css">CSS</button>
                    <button class="toggleButton" id="js">JavaScript</button>
                    <button class="toggleButton" id="io">Output</button>
                </div>
                
                <!-- <div id="css"></div>
                <div id="js"></div> -->
        </div>
        <textarea id="htmlpanel" class="panel"><p id="change">This is a beta version for Co.ak</p></textarea>
        <textarea id="csspanel" class="panel hidden">p {font-family:Arial;}</textarea>
        <textarea id="jspanel" class="panel hidden">document.getElementById("change").innerHTML ="will be running code on this editor";</textarea>

        <iframe id="iopanel" class="panel"></iframe>

        <script type="text/javascript">

            function updateOutput() {
               $("iframe").contents().find("html").html("<html><head><style type='text/css'>" + $("#csspanel").val() + "</style></head><body>" + $("#htmlpanel").val() + "</body></html>");

                document.getElementById("iopanel").contentWindow.eval($("#jspanel").val());

                //document.getElementById("#iopanel").contentWindow.eval($("#jspanel").val());
            }
            $(".panel").height($(window).height() - $("#header").height() - 15);
            $(".panel").width(($(window).width() / 2) - 10);
            updateOutput();

            $("textarea").on('change keyup paste', function() {
                updateOutput();
            }); 
            
            $(".toggleButton").click(function() {
                
                var panelId = $(this).attr("id") + "panel";
                
                $("#" + panelId).toggleClass("hidden"); 
                
                var numberOfActivePanels = 4 - $('.hidden').length;
                
                $(".panel").width(($(window).width() / numberOfActivePanels) - 10);
                
            });
            
           
            

            // $("iframe").contents().find("html").html($("#html"));
         </script>
    </body>
</html>